<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ting-Wei & Hsiang-Chih's Wedding</title>
    <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    <link href="assets/css/style.css" rel="stylesheet">

    <!-- Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sofia">
    <link href='https://fonts.googleapis.com/css?family=Annie Use Your Telescope' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Crafty Girls' rel='stylesheet'>

  
  </head>
  <body>


    <div class="container">
      <header class="d-flex flex-wrap justify-content-center py-3 mb-4">
        <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
          <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"/></svg>
        </a>

        <ul class="nav nav-pills">
          <li class="nav-item"><a href="#" class="btn btn-light active" aria-current="page">English</a></li>
          <li class="nav-item"><a href="#" class="btn btn-light">中文</a></li>
        </ul>
      </header>
    </div>

    <div class="container">
      <div class="row">
        <div class="col-lg-6 offset-lg-3">
            <h2>
              Ting-Wei and Hsiang-Chih are getting married!
            </h2>
          </div>
      </div>
    </div>    

    <div class="container">
      <div class="row">
        <div class="col-lg-3">
          <button type="button" class="btn btn-light">Our stories</button>

          <button type="button" class="btn btn-light">Wedding events</button>
          
        </div>
      
        <div class="col-lg-6">
          <img class="img-fluid zoom afterzoom" src="assets/img/main.png" alt="main">
          
        </div>

        <div class="col-lg-3">
          <button type="button" class="btn btn-light">Fun facts</button>

          <button type="button" class="btn btn-light">Others?</button>
          
        </div>
      </div>
    </div>

    <div class="container">
      <div class="row">

        <div class="col-lg-6 offset-lg-3">
          <img class="img-fluid" src="assets/img/events.png" alt="main">
          
        </div>

      </div>
    </div>






    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js" integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="assets/js/jScrollability.js"></script>
    <script src="assets/js/main.js"></script>

    <script>
      const zoomElement = document.querySelector('.zoom')
      const fadeElement = document.querySelector('.fade')
      const afterZoomElement = document.querySelector('.afterzoom')
      const imgElement = document.querySelector('img')
      const WIDTH = document.body.clientWidth
      const HEIGHT = zoomElement.clientHeight
      const IMAGE_WIDTH = imgElement.clientWidth
      const IMAGE_HEIGHT = imgElement.clientHeight
      const ZOOM_SPEED = 100 // Lower is faster
      const ZOOM_BREAKPOINT = WIDTH / IMAGE_WIDTH // When it should stop zooming in
      const IMAGE_HEIGHT_MAX = IMAGE_HEIGHT * ZOOM_BREAKPOINT
      const ABSOLUTE = ZOOM_BREAKPOINT * ZOOM_SPEED // Absolute position, when the Element reached maximum size

      // Fade --------------------------------------------------------------------------------------
      const FADE_SPEED = 500 // Lower is faster
      let fade = 1
      let prev = 0
      // -------------------------------------------------------------------------------------- Fade

      function anim() {
          let scroll = window.scrollY
          let temp = scroll / ZOOM_SPEED
          let zoom = temp > 1 ? temp : 1

          // Only update the Elements scale, when we are below the breakpoint
          if (zoom < ZOOM_BREAKPOINT) {
              // Only scale the Image, so the Zoom element does not mess with the document width
              imgElement.style.transform = `scale(${zoom})`
              // Sets the Elements position to fixed, so it can resize without scrolling away
              zoomElement.style.top = '0px'
              zoomElement.style.position = 'fixed'
          } else {
              // Makes sure the Element always reaches Max Size
              imgElement.style.transform = `scale(${ZOOM_BREAKPOINT})`
              // Sets the elements position to absolute, so it will scroll with the rest of the document
              zoomElement.style.position = 'absolute'
              zoomElement.style.top = ABSOLUTE + 'px'
          }

          // Fade --------------------------------------------------------------------------------------
          let dif = prev - scroll

          if (zoom < ZOOM_BREAKPOINT - FADE_SPEED / ZOOM_SPEED) {
              fade = 1
          } else if (zoom > ZOOM_BREAKPOINT) {
              fade = 0
          } else {
              fade += dif / FADE_SPEED
          }

          fadeElement.style.opacity = fade
          prev = scroll
          // -------------------------------------------------------------------------------------- Fade
      }

      // Resets scroll position on every reload
      if ('scrollRestoration' in history) {
          history.scrollRestoration = 'manual'
      }

      document.addEventListener('scroll', () => window.requestAnimationFrame(anim))

      // Fade --------------------------------------------------------------------------------------
      zoomElement.style.opacity = 1
      // -------------------------------------------------------------------------------------- Fade

      // Positions the afterZoom element right below the zoomed image
      afterZoomElement.style.top = ABSOLUTE + IMAGE_HEIGHT_MAX / 2 + HEIGHT / 2 + 'px'
      
    </script>


  </body>
</html>
